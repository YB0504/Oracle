/* 회원가입 */
CREATE TABLE MEMBER (
	NICK VARCHAR2(30) NOT NULL, /* 닉네임 */
	ID VARCHAR2(40) NOT NULL, /* 아이디(이메일) */
	PASSWD VARCHAR2(40) NOT NULL, /* 비밀번호 */
	PROFILE_IMAGE VARCHAR2(100), /* 프로필사진 */
	ADDRESS VARCHAR2(200) NOT NULL, /* 주소 */
	PHONE VARCHAR2(30) NOT NULL, /* 전화번호 */
	TOKEN VARCHAR2(100), /* 소셜토큰 */
	ADMIN_ROLE VARCHAR2(1) NOT NULL /* 관리자권한 */
);

ALTER TABLE MEMBER
	ADD
		CONSTRAINT PK_MEMBER
		PRIMARY KEY (
			NICK
		);

ALTER TABLE MEMBER
	ADD
		CONSTRAINT UK_MEMBER
		UNIQUE (
			ID
		);

/* 쇼핑후기_댓글 */
CREATE TABLE REVIEW_REPLY (
	RE_ID NUMBER NOT NULL, /* 댓글ID */
	RE_CONTENT VARCHAR2(100) NOT NULL, /* 댓글내용 */
	RE_REF NUMBER, /* ref */
	RE_LEVEL NUMBER, /* 댓글 깊이 */
	RE_STEP NUMBER, /* 댓글출력순서 */
	RE_REGDATE DATE, /* 작성일 */
	NICK VARCHAR2(30), /* 닉네임 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE REVIEW_REPLY
	ADD
		CONSTRAINT PK_REVIEW_REPLY
		PRIMARY KEY (
			RE_ID
		);

/* 쇼핑후기 */
CREATE TABLE REVIEW (
	POST_ID NUMBER NOT NULL, /* 게시글ID */
	TITLE VARCHAR2(50) NOT NULL, /* 제목 */
	READ_COUNT VARCHAR2(50), /* 조회수 */
	REG_DATE DATE, /* 작성일 */
	CONTENT VARCHAR2(1000) NOT NULL, /* 내용 */
	ITEM_TYPE VARCHAR2(20), /* 의상분류 */
	NICK VARCHAR2(30) /* 닉네임 */
);

ALTER TABLE REVIEW
	ADD
		CONSTRAINT PK_REVIEW
		PRIMARY KEY (
			POST_ID
		);

/* 데일리룩 */
CREATE TABLE DAILY (
	POST_ID NUMBER NOT NULL, /* 게시글ID */
	TITLE VARCHAR2(50) NOT NULL, /* 제목 */
	READ_COUNT VARCHAR2(50), /* 조회수 */
	REG_DATE DATE, /* 작성일 */
	CONTENT VARCHAR2(1000) NOT NULL, /* 내용 */
	TEMPERATURE NUMBER, /* 날씨(기온) */
	LATITUDE NUMBER, /* 위도 */
	LONGITUDE NUMBER, /* 경도 */
	NICK VARCHAR2(30) /* 닉네임 */
);

ALTER TABLE DAILY
	ADD
		CONSTRAINT PK_DAILY
		PRIMARY KEY (
			POST_ID
		);

/* 커뮤니티 */
CREATE TABLE COMMUNITY (
	POST_ID NUMBER NOT NULL, /* 게시글ID */
	TITLE VARCHAR2(50) NOT NULL, /* 제목 */
	READ_COUNT VARCHAR2(50), /* 조회수 */
	REG_DATE DATE, /* 작성일 */
	CONTENT VARCHAR2(1000) NOT NULL, /* 내용 */
	CATEGORY VARCHAR2(20), /* 머릿말 */
	NICK VARCHAR2(30) /* 닉네임 */
);

ALTER TABLE COMMUNITY
	ADD
		CONSTRAINT PK_COMMUNITY
		PRIMARY KEY (
			POST_ID
		);

/* 스크랩 */
CREATE TABLE DAILY_SCRAP (
	SCRAP_ID NUMBER NOT NULL, /* 스크랩ID */
	NICK VARCHAR2(30), /* 닉네임 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE DAILY_SCRAP
	ADD
		CONSTRAINT PK_DAILY_SCRAP
		PRIMARY KEY (
			SCRAP_ID
		);

/* 데일리신고 */
CREATE TABLE DAILY_REPORT (
	REPORT_ID NUMBER NOT NULL, /* 신고게시글ID */
	REASON VARCHAR2(20) NOT NULL, /* 신고사유 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE DAILY_REPORT
	ADD
		CONSTRAINT PK_DAILY_REPORT
		PRIMARY KEY (
			REPORT_ID
		);

/* 좋아요 */
CREATE TABLE DAILY_LIKE (
	LIKE_ID NUMBER NOT NULL, /* 좋아요ID */
	NICK VARCHAR2(30), /* 닉네임 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE DAILY_LIKE
	ADD
		CONSTRAINT PK_DAILY_LIKE
		PRIMARY KEY (
			LIKE_ID
		);

/* 게시판 타입 */
CREATE TABLE BOARD_TYPE (
	TYPE_ID NUMBER NOT NULL, /* 게시판타입ID */
	TYPE_NAME VARCHAR2(20) NOT NULL /* 타입이름 */
);

ALTER TABLE BOARD_TYPE
	ADD
		CONSTRAINT PK_BOARD_TYPE
		PRIMARY KEY (
			TYPE_ID
		);

/* 데일리첨부파일 */
CREATE TABLE DAILY_FILE (
	FILE_ID NUMBER NOT NULL, /* 파일ID */
	ORIGIN_FILE_NAME VARCHAR2(100), /* 원본파일명 */
	STORED_FILE_NAME VARCHAR2(100), /* 저장될파일명 */
	FILE_SIZE NUMBER, /* 파일크기 */
	FILE_REG DATE, /* 저장일자 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE DAILY_FILE
	ADD
		CONSTRAINT PK_DAILY_FILE
		PRIMARY KEY (
			FILE_ID
		);

/* 커뮤니티_댓글 */
CREATE TABLE COMMUNITY_REPLY (
	RE_ID NUMBER NOT NULL, /* 댓글ID */
	RE_CONTENT VARCHAR2(100) NOT NULL, /* 댓글내용 */
	RE_REF NUMBER, /* ref */
	RE_LEVEL NUMBER, /* 댓글 깊이 */
	RE_STEP NUMBER, /* 댓글출력순서 */
	RE_REGDATE DATE, /* 작성일 */
	NICK VARCHAR2(30), /* 닉네임 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE COMMUNITY_REPLY
	ADD
		CONSTRAINT PK_COMMUNITY_REPLY
		PRIMARY KEY (
			RE_ID
		);

/* 데일리룩_댓글 */
CREATE TABLE DAILY_REPLY (
	RE_ID NUMBER NOT NULL, /* 댓글ID */
	RE_CONTENT VARCHAR2(100) NOT NULL, /* 댓글내용 */
	RE_REF NUMBER, /* ref */
	RE_LEVEL NUMBER, /* 댓글 깊이 */
	RE_STEP NUMBER, /* 댓글출력순서 */
	RE_REGDATE DATE, /* 작성일 */
	NICK VARCHAR2(30), /* 닉네임 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE DAILY_REPLY
	ADD
		CONSTRAINT PK_DAILY_REPLY
		PRIMARY KEY (
			RE_ID
		);

/* 쇼핑후기첨부파일 */
CREATE TABLE REVIEW_FILE (
	FILE_ID NUMBER NOT NULL, /* 파일ID */
	ORIGIN_FILE_NAME VARCHAR2(100), /* 원본파일명 */
	STORED_FILE_NAME VARCHAR2(100), /* 저장될파일명 */
	FILE_SIZE NUMBER, /* 파일크기 */
	FILE_REG DATE, /* 저장일자 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE REVIEW_FILE
	ADD
		CONSTRAINT PK_REVIEW_FILE
		PRIMARY KEY (
			FILE_ID
		);

/* 커뮤니티신고 */
CREATE TABLE COMMUNITY_REPORT (
	REPORT_ID NUMBER NOT NULL, /* 신고게시글ID */
	REASON VARCHAR2(20) NOT NULL, /* 신고사유 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE COMMUNITY_REPORT
	ADD
		CONSTRAINT PK_COMMUNITY_REPORT
		PRIMARY KEY (
			REPORT_ID
		);

/* 쇼핑후기신고 */
CREATE TABLE REVIEW_REPORT (
	REPORT_ID NUMBER NOT NULL, /* 신고게시글ID */
	REASON VARCHAR2(20) NOT NULL, /* 신고사유 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE REVIEW_REPORT
	ADD
		CONSTRAINT PK_REVIEW_REPORT
		PRIMARY KEY (
			REPORT_ID
		);

/* 스크랩2 */
CREATE TABLE COMMUNITY_SCRAP (
	SCRAP_ID NUMBER NOT NULL, /* 스크랩ID */
	POST_ID NUMBER, /* 게시글ID */
	NICK VARCHAR2(30) /* 닉네임 */
);

ALTER TABLE COMMUNITY_SCRAP
	ADD
		CONSTRAINT PK_COMMUNITY_SCRAP
		PRIMARY KEY (
			SCRAP_ID
		);

/* 스크랩3 */
CREATE TABLE REVIEW_SCRAP (
	SCRAP_ID NUMBER NOT NULL, /* 스크랩ID */
	NICK VARCHAR2(30), /* 닉네임 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE REVIEW_SCRAP
	ADD
		CONSTRAINT PK_REVIEW_SCRAP
		PRIMARY KEY (
			SCRAP_ID
		);

/* 좋아요2 */
CREATE TABLE COMMUNITY_LIKE (
	LIKE_ID NUMBER NOT NULL, /* 좋아요ID */
	POST_ID NUMBER, /* 게시글ID */
	NICK VARCHAR2(30) /* 닉네임 */
);

ALTER TABLE COMMUNITY_LIKE
	ADD
		CONSTRAINT PK_COMMUNITY_LIKE
		PRIMARY KEY (
			LIKE_ID
		);

/* 좋아요3 */
CREATE TABLE REVIEW_LIKE (
	LIKE_ID NUMBER NOT NULL, /* 좋아요ID */
	NICK VARCHAR2(30), /* 닉네임 */
	POST_ID NUMBER /* 게시글ID */
);

ALTER TABLE REVIEW_LIKE
	ADD
		CONSTRAINT PK_REVIEW_LIKE
		PRIMARY KEY (
			LIKE_ID
		);

ALTER TABLE REVIEW_REPLY
	ADD
		CONSTRAINT FK_MEMBER_TO_REVIEW_REPLY
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE REVIEW_REPLY
	ADD
		CONSTRAINT FK_REVIEW_TO_REVIEW_REPLY
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES REVIEW (
			POST_ID
		);

ALTER TABLE REVIEW
	ADD
		CONSTRAINT FK_MEMBER_TO_REVIEW
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE DAILY
	ADD
		CONSTRAINT FK_MEMBER_TO_DAILY
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE COMMUNITY
	ADD
		CONSTRAINT FK_MEMBER_TO_COMMUNITY
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE DAILY_SCRAP
	ADD
		CONSTRAINT FK_MEMBER_TO_DAILY_SCRAP
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE DAILY_SCRAP
	ADD
		CONSTRAINT FK_DAILY_TO_DAILY_SCRAP
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES DAILY (
			POST_ID
		);

ALTER TABLE DAILY_REPORT
	ADD
		CONSTRAINT FK_DAILY_TO_DAILY_REPORT
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES DAILY (
			POST_ID
		);

ALTER TABLE DAILY_LIKE
	ADD
		CONSTRAINT FK_MEMBER_TO_DAILY_LIKE
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE DAILY_LIKE
	ADD
		CONSTRAINT FK_DAILY_TO_DAILY_LIKE
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES DAILY (
			POST_ID
		);

ALTER TABLE DAILY_FILE
	ADD
		CONSTRAINT FK_DAILY_TO_DAILY_FILE
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES DAILY (
			POST_ID
		);

ALTER TABLE COMMUNITY_REPLY
	ADD
		CONSTRAINT FK_MEMBER_TO_COMMUNITY_REPLY
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE COMMUNITY_REPLY
	ADD
		CONSTRAINT FK_COMMUNITY_TO_COMMUNITY_REPLY
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES COMMUNITY (
			POST_ID
		);

ALTER TABLE DAILY_REPLY
	ADD
		CONSTRAINT FK_MEMBER_TO_DAILY_REPLY
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE DAILY_REPLY
	ADD
		CONSTRAINT FK_DAILY_TO_DAILY_REPLY
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES DAILY (
			POST_ID
		);

ALTER TABLE REVIEW_FILE
	ADD
		CONSTRAINT FK_REVIEW_TO_REVIEW_FILE
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES REVIEW (
			POST_ID
		);

ALTER TABLE COMMUNITY_REPORT
	ADD
		CONSTRAINT FK_COMMUNITY_TO_COMMUNITY_REPORT
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES COMMUNITY (
			POST_ID
		);

ALTER TABLE REVIEW_REPORT
	ADD
		CONSTRAINT FK_REVIEW_TO_REVIEW_REPORT
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES REVIEW (
			POST_ID
		);

ALTER TABLE COMMUNITY_SCRAP
	ADD
		CONSTRAINT FK_COMMUNITY_TO_COMMUNITY_SCRAP
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES COMMUNITY (
			POST_ID
		);

ALTER TABLE COMMUNITY_SCRAP
	ADD
		CONSTRAINT FK_MEMBER_TO_COMMUNITY_SCRAP
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE REVIEW_SCRAP
	ADD
		CONSTRAINT FK_MEMBER_TO_REVIEW_SCRAP
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE REVIEW_SCRAP
	ADD
		CONSTRAINT FK_REVIEW_TO_REVIEW_SCRAP
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES REVIEW (
			POST_ID
		);

ALTER TABLE COMMUNITY_LIKE
	ADD
		CONSTRAINT FK_COMMUNITY_TO_COMMUNITY_LIKE
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES COMMUNITY (
			POST_ID
		);

ALTER TABLE COMMUNITY_LIKE
	ADD
		CONSTRAINT FK_MEMBER_TO_COMMUNITY_LIKE
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE REVIEW_LIKE
	ADD
		CONSTRAINT FK_MEMBER_TO_REVIEW_LIKE
		FOREIGN KEY (
			NICK
		)
		REFERENCES MEMBER (
			NICK
		);

ALTER TABLE REVIEW_LIKE
	ADD
		CONSTRAINT FK_REVIEW_TO_REVIEW_LIKE
		FOREIGN KEY (
			POST_ID
		)
		REFERENCES REVIEW (
			POST_ID
		);